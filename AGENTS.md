# Repository Guidelines

Краткое руководство для участников: React/TypeScript на Vite, без серверной части. Храним конфиги в корне, компоненты в `components`, типы в `types.ts`, константы в `constants.ts`, корневой UI — `App.tsx` и `index.tsx`. Тестов пока нет — добавляйте рядом с кодом в `__tests__` или как `*.test.ts[x]`.

## Сборка, запуск, проверки
- Установка: `npm install`.
- Dev-сервер: `npm run dev` (Vite, hot reload).
- Прод-сборка: `npm run build` (выход в `dist/`).
- Локальный предпросмотр билда: `npm run preview`.
- Статическая проверка типов (при необходимости): `npx tsc --noEmit`.

## Стиль кода и именование
- TypeScript strict, компоненты — функции в PascalCase; хуки — `useSomething`.
- Отступы 2 пробела, кавычки двойные, точка с запятой опционально, но последовательно.
- Импорты: сначала внешние, затем локальные; группируйте логически.
- Пропы описывайте типами/интерфейсами в том же файле либо рядом.
- Без неиспользуемых экспортов; выбирайте именованные экспорты для переиспользуемых сущностей.

## Тестирование
- Фреймворк не подключён; для новых тестов предпочтительны Vitest или Jest.
- Именование: `*.test.ts[x]`; один модуль — один файл тестов.
- Минимум: покрывать ветки с бизнес-логикой, графику проверять снепшотами.
- Запуск тестов добавляйте в `package.json` (например, `"test": "vitest run"`).

## Коммиты и PR
- Сообщения в императиве (пример: `Add radar chart tooltip fix`); один коммит — один осмысленный шаг.
- В PR: краткое описание, скриншоты UI-изменений, ссылка на задачу, список проверок (build/типизация/тесты).
- Избегайте смешанных изменений (рефактор + фича) в одном PR.

## Безопасность и конфигурация
- Секреты только в `.env.local` (например, `GEMINI_API_KEY`); не коммитить .env-файлы.
- Ввод пользователя считать недоверенным; экранировать вывод, не хранить чувствительные данные в стейте дольше необходимого.
- Зависимости обновлять через `npm audit fix`/контролируемые обновления; проверяйте сборку после бампинга.

## Документация и версии — LITE

**Источник правды по агентам:** один файл `AGENTS.md`. Если в проекте встречается `GEMINI.md` — перенеси релевантное и удали файл-двойник (единый контекст снижает риски рассинхронизации).

**Когда менять документы и версию**

- Если меняется публичное поведение (API/CLI/конфиги/форматы/дефолты/коды ошибок):
  1) обнови `README.md` (примеры, параметры, конфиги),
  2) добавь запись в `CHANGELOG.md` по Keep a Changelog (категории: Added/Changed/Fixed/Deprecated/Removed; пометь BREAKING),
  3) бампни SemVer: MAJOR — несовместимое, MINOR — совместимая функциональность, PATCH — исправления.
- Если изменение **внутреннее** (рефактор/оптимизация) и не трогает публичный контракт — запись в `CHANGELOG.md` **не обязательна**.

**План работ**

- Долгосрочные задачи храним в `docs/ROADMAP.md` с метками: `todo` / `in-progress` / `blocked` / `done`.
